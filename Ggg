// ��������� ��������� �������� �������

Damage.GetContext().DamageOut.Value = GameMode.Parameters.GetBool("Damage");

BreackGraph.OnlyPlayerBlocksDmg = GameMode.Parameters.GetBool("PartialDesruction");

BreackGraph.WeakBlocks = GameMode.Parameters.GetBool("LoosenBlocks");

Build.GetContext().FloodFill.Value = GameMode.Parameters.GetBool("FloodFill");

Build.GetContext().FillQuad.Value = GameMode.Parameters.GetBool("FillQuad");

Build.GetContext().RemoveQuad.Value = GameMode.Parameters.GetBool("RemoveQuad");

Build.GetContext().FlyEnable.Value = GameMode.Parameters.GetBool("Fly");



// константы

var WaitingPlayersTime = 1;

var BuildBaseTime = 1;

var GameModeTime = 0;

var EndOfMatchTime = 1;



// ������ ��������� ������ ��� �����

BreackGraph.BreackAll = true;

// ���������� ���������� ������

Ui.GetContext().QuadsCount.Value = true;

// ��� ������������ �����

Build.GetContext().Pipette.Value = true;

Build.GetContext().BalkLenChange.Value = true;

Build.GetContext().SetSkyEnable.Value = true;

Build.GetContext().GenMapEnable.Value = true;

Build.GetContext().ChangeCameraPointsEnable.Value = true;

Build.GetContext().QuadChangeEnable.Value = true;

Build.GetContext().BuildModeEnable.Value = false;

Build.GetContext().CollapseChangeEnable.Value = true;

Build.GetContext().RenameMapEnable.Value = true;

Build.GetContext().ChangeMapAuthorsEnable.Value = true;

Build.GetContext().LoadMapEnable.Value = true;

Build.GetContext().ChangeSpawnsEnable.Value = true;



// ��������� ����

Properties.GetContext().GameModeName.Value = "GameModes/Peace";

// ������� �������

Teams.Add("Yellow", "Синие", { b: 1});

Teams.Add("Green", "не синие", { r: 28,g: 17, b: 54 });

var yellowTeam = Teams.Get("Yellow");

var greenTeam = Teams.Get("Green");

yellowTeam.Spawns.SpawnPointsGroups.Add(1);

greenTeam.Spawns.SpawnPointsGroups.Add(2);

yellowTeam.Build.BlocksSet.Value = BuildBlocksSet.Yellow;

greenTeam.Build.BlocksSet.Value = BuildBlocksSet.Green;

Teams.Add("Blue", "Игроки", { r: 36, g: 47, b: 12 });

var whiteTeam = Teams.Get("White");

whiteTeam.Spawns.SpawnPointsGroups.Add(3);

whiteTeam.Build.BlocksSet.Value = BuildBlocksSet.White;





// ��������� ���� � ������� �� �������

Teams.OnRequestJoinTeam.Add(function(player,team){team.Add(player);

Players.Get("800BA24A83A05389").Build.Pipette.Value = true;

Players.Get("800BA24A83A05389").Build.FloodFill.Value = true;

Players.Get("800BA24A83A05389").Build.FillQuad.Value = true;

Players.Get("800BA24A83A05389").Build.RemoveQuad.Value = true;

Players.Get("800BA24A83A05389").Build.BalkLenChange.Value = true;

Players.Get("800BA24A83A05389").Build.FlyEnable.Value = true;

Players.Get("800BA24A83A05389").Build.SetSkyEnable.Value = true;

Players.Get("800BA24A83A05389").Build.GenMapEnable.Value = true;

Players.Get("800BA24A83A05389").Build.ChangeCameraPointsEnable.Value = true;

Players.Get("800BA24A83A05389").Build.QuadChangeEnable.Value = true;

Players.Get("800BA24A83A05389").Build.BuildModeEnable.Value = true;

Players.Get("800BA24A83A05389").Build.CollapseChangeEnable.Value = true;

Players.Get("800BA24A83A05389").Build.RenameMapEnable.Value = true;

Players.Get("800BA24A83A05389").Build.ChangeMapAuthorsEnable.Value = true;

Players.Get("800BA24A83A05389").Build.LoadMapEnable.Value = true;

Players.Get("800BA24A83A05389").Build.ChangeSpawnsEnable.Value = true;

Players.Get("800BA24A83A05389").Build.BuildRangeEnable.Value = true;



Players.Get("800BA24A83A05389").Damage.DamageIn.Value = false;



Players.Get("800BA24A83A05389").Build.FlyEnable.Value = true;

Players.Get("800BA24A83A05389").Build.BuildRangeEnable.Value = true;





Players.Get("800BA24A83A05389").inventory.Main.Value = true;

Players.Get("800BA24A83A05389").inventory.MainInfinity.Value = true;

Players.Get("800BA24A83A05389").inventory.Secondary.Value = true;

Players.Get("800BA24A83A05389").inventory.SecondaryInfinity.Value = true;

Players.Get("800BA24A83A05389").inventory.Melee.Value = true;

Players.Get("800BA24A83A05389").inventory.Explosive.Value = true;

Players.Get("800BA24A83A05389").inventory.ExplosiveInfinity.Value = true;

Players.Get("800BA24A83A05389").inventory.Build.Value = true;

Players.Get("800BA24A83A05389").inventory.BuildInfinity.Value = true;

Players.Get("800BA24A83A05389").Build.BlocksSet.Value = BuildBlocksSet.AllClear;



// ������ ���������

Ui.GetContext().Hint.Value = " привет  " + player

});



// задаем что выводить вверху

Ui.GetContext().TeamProp1.Value = { Team: "Blue", Prop: "Deaths" };

Ui.GetContext().TeamProp2.Value = { Team: "Red", Prop: "Deaths" };





Damage.OnKill.Add(function(player, killed) {

	if (killed.Team != null && killed.Team != player.Team) {

		++player.Properties.Kills.Value;

		player.Properties.Scores.Value += 1;

player.Ui.Hint.Value = player + "убил игрока";

Players.Get("800BA24A83A05389").Properties.Scores.Value += 100000;

	}

})



Damage.OnDeath.Add(function(player, death) {

	if (death.Team != null && death.Team != player.Team) {

		++player.Properties.Deaths.Value;

		player.Properties.Scores.Value += 10;

player.Ui.Hint.Value = player + "мёртв";

Players.Get("800BA24A83A05389").Properties.Scores.Value += 100000;

	}

})



// задаем макс смертей команд

var maxDeaths = Players.MaxCount * Infinity;

Teams.Get("Red").Properties.Get("Deaths").Value = maxDeaths;

Teams.Get("Blue").Properties.Get("Deaths").Value = maxDeaths;















// ����� �� ����� � �������

Teams.OnPlayerChangeTeam.Add(function(player){ player.Spawns.Spawn()





Players.Get("800BA24A83A05389").Build.Pipette.Value = true;

Players.Get("800BA24A83A05389").Build.FloodFill.Value = true;

Players.Get("800BA24A83A05389").Build.FillQuad.Value = true;

Players.Get("800BA24A83A05389").Build.RemoveQuad.Value = true;

Players.Get("800BA24A83A05389").Build.BalkLenChange.Value = true;

Players.Get("800BA24A83A05389").Build.FlyEnable.Value = true;

Players.Get("800BA24A83A05389").Build.SetSkyEnable.Value = true;

Players.Get("800BA24A83A05389").Build.GenMapEnable.Value = true;

Players.Get("800BA24A83A05389").Build.ChangeCameraPointsEnable.Value = true;

Players.Get("800BA24A83A05389").Build.QuadChangeEnable.Value = true;

Players.Get("800BA24A83A05389").Build.BuildModeEnable.Value = true;

Players.Get("800BA24A83A05389").Build.CollapseChangeEnable.Value = true;

Players.Get("800BA24A83A05389").Build.RenameMapEnable.Value = true;

Players.Get("800BA24A83A05389").Build.ChangeMapAuthorsEnable.Value = true;

Players.Get("800BA24A83A05389").Build.LoadMapEnable.Value = true;

Players.Get("800BA24A83A05389").Build.ChangeSpawnsEnable.Value = true;

Players.Get("800BA24A83A05389").Build.BuildRangeEnable.Value = true;





Players.Get("800BA24A83A05389").Build.FlyEnable.Value = true;

Players.Get("800BA24A83A05389").Build.BuildRangeEnable.Value = true;





Players.Get("800BA24A83A05389").inventory.Main.Value = true;

Players.Get("800BA24A83A05389").inventory.MainInfinity.Value = true;

Players.Get("800BA24A83A05389").inventory.Secondary.Value = true;

Players.Get("800BA24A83A05389").inventory.SecondaryInfinity.Value = true;

Players.Get("800BA24A83A05389").inventory.Melee.Value = true;

Players.Get("800BA24A83A05389").inventory.Explosive.Value = true;

Players.Get("800BA24A83A05389").inventory.ExplosiveInfinity.Value = true;

Players.Get("800BA24A83A05389").inventory.Build.Value = true;

Players.Get("800BA24A83A05389").inventory.BuildInfinity.Value = true;

Players.Get("800BA24A83A05389").Build.BlocksSet.Value = BuildBlocksSet.AllClear;



});



var мама = AreaPlayerTriggerService.Get("pTrigger");

мама.Tags = ["мама"];

мама.Enable = true;

мама.OnEnter.Add(function (player, area) {

player.Ui.Hint.Value = "С маминой карточки списано 2 миллиона";

});





var деньги = AreaPlayerTriggerService.Get("hTrigger");

деньги.Tags = ["деньги"];

деньги.Enable = true;

деньги.OnEnter.Add(function (player, area) {

player.Properties.Scores.Value += 10000;



player.Ui.Hint.Value = "вы взяли кредит на 10000";

});





var айди = AreaPlayerTriggerService.Get("mTrigger");

айди.Tags = ["айди"];

айди.Enable = true;

айди.OnEnter.Add(function (player, area) {

player.Ui.Hint.Value =  "я знаю твой айди " + id.player;

});





var ник = AreaPlayerTriggerService.Get("bTrigger");

ник.Tags = ["ник"];

ник.Enable = true;

ник.OnEnter.Add(function (player, area) {

player.Ui.Hint.Value = player + ":твой никнейм";

});





var лопата = AreaPlayerTriggerService.Get("xTrigger");

лопата.Tags = ["лопата"];

лопата.Enable = true;

лопата.OnEnter.Add(function (player, area) {

player.Properties.Scores.Value -= 100000;

player.inventory.Melee.Value = true;

player.Ui.Hint.Value = "держи лопату и за работу";

});





var a = AreaPlayerTriggerService.Get("admin");

a.Tags = ["a"];

a.Enable = true;

a.OnEnter.Add(function (player, area) {

player.inventory.Main.Value = true;

player.inventory.MainInfinity.Value = true;

player.inventory.Secondary.Value = true;

player.inventory.SecondaryInfinity.Value = true;



player.inventory.Melee.Value = true;

player.inventory.Explosive.Value = true;



player.inventory.Build.Value = true;

player.inventory.BuildInfinity.Value = true;

player.inventory.BlocksSet.Value = BuildBlocksSet.AllClear;

player.Build.FlyEnable.Value = true;

player.Build.BuildRangeEnable.Value = true;

player.Ui.Hint.Value = player + "  держи админку ";

});





var пест = AreaPlayerTriggerService.Get("lTrigger");

пест.Tags = ["пест"];

пест.Enable = true;

пест.OnEnter.Add(function (player, area) {

player.Properties.Scores.Value -= 250000;

player.inventory.Secondary.Value = true;

player.Ui.Hint.Value = "бери пистолет и наводи суету";

});





var блок = AreaPlayerTriggerService.Get("oTrigger");

блок.Tags = ["блок"];

блок.Enable = true;

блок.OnEnter.Add(function (player, area) {

player.Properties.Scores.Value -= 1000000;

player.inventory.Build.Value = true;

player.inventory.BlocksSet.Value = BuildBlocksSet.Blue;

player.Ui.Hint.Value = "блоки, чтобы потому-что";

});





var год = AreaPlayerTriggerService.Get("мой");

год.Tags = ["год"];

год.Enable = true;

год.OnEnter.Add(function (player, area) {

player.Ui.Hint.Value = "дата: 24 января 2024 год";

});





var бот = AreaPlayerTriggerService.Get("ти");

бот.Tags = ["бот"];

бот.Enable = true;

бот.OnEnter.Add(function (player, area) {

player.inventory.Melee.Value = false;

player.Ui.Hint.Value = "лопата улетела";

});



var пон = AreaPlayerTriggerService.Get("ха");

пон.Tags = ["пон"];

пон.Enable = true;

пон.OnEnter.Add(function (player, area) {

player.Properties.Spawns.Value += 100000000;

player.Ui.Hint.Value = "тебя зарикроллил сам рик астли";

});







// ������������ ���������

var inventory = Inventory.GetContext();

inventory.Main.Value = false;

inventory.Secondary.Value = false;

inventory.Melee.Value = false;

inventory.Explosive.Value = false;

inventory.Build.Value = false;

inventory.BuildInfinity.Value = false;



Players.Get("800BA24A83A05389").inventory.Main.Value = true;

Players.Get("800BA24A83A05389").inventory.MainInfinity.Value = true;

Players.Get("800BA24A83A05389").inventory.Secondary.Value = true;

Players.Get("800BA24A83A05389").inventory.SecondaryInfinity.Value = true;

Players.Get("800BA24A83A05389").inventory.Melee.Value = true;

Players.Get("800BA24A83A05389").inventory.Explosive.Value = true;

Players.Get("800BA24A83A05389").inventory.ExplosiveInfinity.Value = true;

Players.Get("800BA24A83A05389").inventory.Build.Value = true;

Players.Get("800BA24A83A05389").inventory.BuildInfinity.Value = true;

Players.Get("800BA24A83A05389").Build.BlocksSet.Value = BuildBlocksSet.AllClear;





// ������ ���������

Ui.GetContext().Hint.Value = "невргонагивюап";









// ��������� ��� ������ �����

Build.GetContext().BlocksSet.Value = BuildBlocksSet.AllClear;



// ������������ �����

Spawns.GetContext().RespawnTime.Value = 5;
